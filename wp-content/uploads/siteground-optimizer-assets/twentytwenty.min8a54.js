(function(a){a.fn.twentytwenty=function(b){a('.twentytwenty-container').each(function(){$before_text=a(this).attr('data-before-text'),$after_text=a(this).attr('data-after-text')});var b=a.extend({default_offset_pct:.5,orientation:'horizontal',before_label:$before_text,after_label:$after_text,no_overlay:!1,move_slider_on_hover:!1,move_with_handle_only:!0,click_to_move:!1},b);return this.each(function(){var f=b.default_offset_pct,c=a(this),e=b.orientation,v=e==='vertical'?'down':'left',u=e==='vertical'?'up':'right',s,d,k,g,x,t,m,w,p,l,j,i,h,o,r,q,n;c.wrap("<div class='twentytwenty-wrapper twentytwenty-"+e+"'></div>"),b.no_overlay||(c.append("<div class='twentytwenty-overlay'></div>"),s=c.find(".twentytwenty-overlay"),s.append("<div class='twentytwenty-before-label' data-content='"+b.before_label+"'></div>"),s.append("<div class='twentytwenty-after-label' data-content='"+b.after_label+"'></div>")),d=c.find("img:first"),k=c.find("img:last"),c.append("<div class='twentytwenty-handle'></div>"),g=c.find(".twentytwenty-handle"),g.append("<span class='twentytwenty-"+v+"-arrow'></span>"),g.append("<span class='twentytwenty-"+u+"-arrow'></span>"),c.addClass("twentytwenty-container"),d.addClass("twentytwenty-before"),k.addClass("twentytwenty-after"),x=function(a){var b=d.width(),c=d.height();return{w:b+"px",h:c+"px",cw:a*b+"px",ch:a*c+"px"}},t=function(a){e==='vertical'?(d.css("clip","rect(0,"+a.w+","+a.ch+",0)"),k.css("clip","rect("+a.ch+","+a.w+","+a.h+",0)")):(d.css("clip","rect(0,"+a.cw+","+a.h+",0)"),k.css("clip","rect(0,"+a.w+","+a.h+","+a.cw+")")),c.css("height",a.h)},m=function(b){var a=x(b);g.css(e==="vertical"?"top":"left",e==="vertical"?a.ch:a.cw),t(a)},w=function(a,b,c){return Math.max(b,Math.min(c,a))},p=function(a,b){var c=e==='vertical'?(b-j)/h:(a-l)/i;return w(c,0,1)},a(window).on("resize.twentytwenty",function(a){m(f)}),l=0,j=0,i=0,h=0,o=function(a){(a.distX>a.distY&&a.distX<-a.distY||a.distX<a.distY&&a.distX>-a.distY)&&e!=='vertical'?a.preventDefault():(a.distX<a.distY&&a.distX<-a.distY||a.distX>a.distY&&a.distX>-a.distY)&&e==='vertical'&&a.preventDefault(),c.addClass("active"),l=c.offset().left,j=c.offset().top,i=d.width(),h=d.height()},r=function(a){c.hasClass("active")&&(f=p(a.pageX,a.pageY),m(f))},q=function(){c.removeClass("active")},n=b.move_with_handle_only?g:c,n.on("movestart",o),n.on("move",r),n.on("moveend",q),b.move_slider_on_hover&&(c.on("mouseenter",o),c.on("mousemove",r),c.on("mouseleave",q)),g.on("touchmove",function(a){a.preventDefault()}),c.find("img").on("mousedown",function(a){a.preventDefault()}),b.click_to_move&&c.on('click',function(a){l=c.offset().left,j=c.offset().top,i=d.width(),h=d.height(),f=p(a.pageX,a.pageY),m(f)}),a(window).trigger("resize.twentytwenty")})}})(jQuery)